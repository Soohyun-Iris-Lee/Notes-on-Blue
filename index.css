/* =========================================
   Notes on Blue — Landing Styles (from scratch)
   상태: data-state = five | one | seven
   ========================================= */

:root{
  /* 색 */
  --blue: #3b44b3;
  --white: #ffffff;
  --text: #f7f7fb;

  /* 스케일 */
  --box: clamp(64px, 8vw, 96px);         /* 정사각형 한 변 */
  --gap: clamp(16px, 2.2vw, 28px);       /* 7칸 간격 */
  --title-top: 5vh;                       /* 상단 타이틀 여백 */
  --footer-bottom: 4vh;                   /* 하단 About 여백 */

  /* 괄호 간격 (반응형: vmin 기반) */
  --paren-unit: 1vmin;                   /* 1vmin = 화면 짧은 변의 1% */
  --paren-gap-five:  0;                  /* 초기 5개 상태 */
  --paren-gap-one:  -30;                  /* 모일 때(좁힘) 숫자만 조절 */
  --paren-gap-seven: 22;                 /* 펼칠 때(넓힘) 숫자만 조절 */

  /* 트랜지션 */
  --t-move: .50s cubic-bezier(.2,.7,.2,1);          /* 박스 이동 */
  --t-fade: .35s ease;                               /* 투명/등장 */
  --t-paren: .65s cubic-bezier(.2,.8,.2,1.05);       /* 괄호 움직임 */
  /* ...기존 변수들... */
  --title-word-font: "freight-big-pro", serif;
  font-weight: 300; /* 'title' 부분 */
  --title-num-font:  "freight-big-pro", serif;
  font-weight: 300;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:var(--blue);
  color:var(--text);
  font-family:"freight-big-pro", serif;
}

/* ================= 헤더(서로 다른 폰트) ================= */

@font-face {
  font-family: "LeopardoTrial";
  src: url("./fonts/LeopardoTrial-Italic.woff") format("woff");
  font-weight: 300; /* 보통은 400~500으로 지정 (300이면 너무 얇음) */
  font-style: italic;
  font-display: swap;
}
.title{
  position:fixed; left:0; right:0; top:var(--title-top);
  text-align:center;
  font-size:clamp(26px,4vw,54px);
  line-height:1.2;
  pointer-events:none;
}
.title .notes{
    font-family: "freight-big-pro", serif;
  font-weight: 300;
  letter-spacing:.02em;
}
.title .blue{
 font-family: "LeopardoTrial", serif;
  font-weight: 300;
   /* 폰트 B */
  font-style:italic;
}

/* ================= 하단 About ================= */
.footer{
  position:fixed; left:0; right:0; bottom:var(--footer-bottom);
  text-align:center;
}
.about{
  color:var(--white); text-decoration:none;
  font-size:clamp(16px,1.8vw,26px);
  font-family: "freight-big-pro", serif;
  font-weight: 300;
}
.about:focus-visible{ outline:2px solid var(--white); outline-offset:4px; border-radius:4px; }

/* ================= 무대/괄호/박스 공통 ================= */
.stage{
  position:relative; width:100%; height:100vh;
  display:grid; place-items:center; overflow:hidden;
}
.bracket-zone{
  position:relative;
  width:min(88vw,1100px);
  height:min(58vh,520px);
}

/* 괄호(텍스트 사용) */
.paren-text{
  position:absolute; top:50%;
  transform:translateY(-50%) translateX(0);
  color:var(--white);
  font-size:clamp(64px,9vw,120px);
  font-family:"YourBracketFont", serif; /* 원하는 괄호 폰트명 */
  line-height:1;
  transition:transform var(--t-paren);
  pointer-events:none;
}
.paren-text.left{  left:0; }
.paren-text.right{ right:0; }

/* 숫자 박스 */
.boxes{ position:absolute; inset:0; display:grid; place-items:center; }
.box{
  position:absolute;
  width:var(--box); height:var(--box);
  display:grid; place-items:center;
  background:var(--white); color:var(--blue);
  text-decoration:none; cursor:pointer;
  transition:
    transform var(--t-move),
    opacity var(--t-fade),
    background-color .2s ease,
    color .2s ease,
    outline-color .2s ease;
  outline:0 solid transparent;
}
.box,
.box:link,
.box:visited {
  background: var(--white);
  color: var(--blue);
}
.box .num{
  font-family: "LeopardoTrial", serif;
  font-weight: 300;
   /* 폰트 B */
  font-style:italic;
  font-size:calc(var(--box)*.5);
  line-height:2.2; user-select:none;
  opacity:0; transform:translateY(6px);
  transition:opacity .4s ease, transform .4s ease;
}

/* 박스 반전 호버 */
.box:hover{
  background:var(--blue);
  color:var(--white);
  outline:1px solid var(--white);
  outline-offset:-1px;
}
.box:focus-visible{ outline:2px solid var(--white); outline-offset:3px; }

/* ============ 상태 1) five — 대각선 5개(코너 맞닿음) ============ */
.bracket-zone[data-state="five"] .box{ opacity:1; }

/* 중앙 */
.bracket-zone[data-state="five"] .box:nth-child(1){ transform:translate(0,0); }

/* 중앙 박스의 네 꼭짓점으로 ±45° 배치 (x,y 모두 ±var(--box)) */
.bracket-zone[data-state="five"] .box:nth-child(2){ /* ↖ */
  transform:translate(calc(-1 * var(--box)), calc(-1 * var(--box)));
}
.bracket-zone[data-state="five"] .box:nth-child(3){ /* ↗ */
  transform:translate(var(--box), calc(-1 * var(--box)));
}
.bracket-zone[data-state="five"] .box:nth-child(4){ /* ↘ */
  transform:translate(var(--box), var(--box));
}
.bracket-zone[data-state="five"] .box:nth-child(5){ /* ↙ */
  transform:translate(calc(-1 * var(--box)), var(--box));
}

/* 6,7 숨김 */
.bracket-zone[data-state="five"] .box:nth-child(n+6){
  opacity:0; transform:translate(0,0) scale(.6);
}

/* 괄호 간격(기준) */
.bracket-zone[data-state="five"] .paren-text.left{
  transform:translateY(-50%) translateX(calc(-1 * var(--paren-gap-five) * var(--paren-unit)));
}
.bracket-zone[data-state="five"] .paren-text.right{
  transform:translateY(-50%) translateX(calc(      var(--paren-gap-five) * var(--paren-unit)));
}

/* ============ 상태 2) one — 중앙으로 수축(괄호 확 좁힘) ============ */
.bracket-zone[data-state="one"] .box{
  transform:translate(0,0) scale(1);
    pointer-events: none;   
  opacity:1;
}
.bracket-zone[data-state="one"] .box:nth-child(n+6){ opacity:0; }

/* 괄호 확! 좁힘 */
.bracket-zone[data-state="one"] .paren-text.left{
  transform:translateY(-50%) translateX(calc(-1 * var(--paren-gap-one) * var(--paren-unit)));
}
.bracket-zone[data-state="one"] .paren-text.right{
  transform:translateY(-50%) translateX(calc(      var(--paren-gap-one) * var(--paren-unit)));
}

/* ============ 상태 3) seven — 7개 가로 전개(괄호 더 넓게) ============ */
.bracket-zone[data-state="seven"] .box{ opacity:1; 
  pointer-events: auto;}
.bracket-zone[data-state="seven"] .box .num{ opacity:1; transform:translateY(0); }

/* 중앙 기준 -3 ~ +3 칸으로 펼침 */
.bracket-zone[data-state="seven"] .box:nth-child(1){ transform:translate(calc(-3 * (var(--box) + var(--gap))), 0); }
.bracket-zone[data-state="seven"] .box:nth-child(2){ transform:translate(calc(-2 * (var(--box) + var(--gap))), 0); }
.bracket-zone[data-state="seven"] .box:nth-child(3){ transform:translate(calc(-1 * (var(--box) + var(--gap))), 0); }
.bracket-zone[data-state="seven"] .box:nth-child(4){ transform:translate(0, 0); }
.bracket-zone[data-state="seven"] .box:nth-child(5){ transform:translate(calc( 1 * (var(--box) + var(--gap))), 0); }
.bracket-zone[data-state="seven"] .box:nth-child(6){ transform:translate(calc( 2 * (var(--box) + var(--gap))), 0); opacity:1; }
.bracket-zone[data-state="seven"] .box:nth-child(7){ transform:translate(calc( 3 * (var(--box) + var(--gap))), 0); opacity:1; }

/* 괄호: five보다 더 넓게 확 벌림 */
.bracket-zone[data-state="seven"] .paren-text.left{
  transform:translateY(-50%) translateX(calc(-1 * var(--paren-gap-seven) * var(--paren-unit)));
}
.bracket-zone[data-state="seven"] .paren-text.right{
  transform:translateY(-50%) translateX(calc(      var(--paren-gap-seven) * var(--paren-unit)));
}

/* ============ 반응형 보정 ============ */
@media (max-width: 700px){
  .bracket-zone{ height:58vh; }
  .title{ top:4vh; }
  .about{ font-size:clamp(15px,2.8vw,20px); }
  .bracket-zone[data-state="seven"] .box .num{ font-size:calc(var(--box) * .46); }
}

/* 중앙 호버 타이틀 (박스 밑 중앙 정렬) */
.hover-title{
  position:absolute;
  left:50%;
  top:calc(50% + var(--box) * 0.9);  /* 박스 아래쪽으로 살짝 내림 */
  transform:translateX(-50%) translateY(10px);
  font-size:clamp(18px, 2.2vw, 30px);
  color:var(--white);
  pointer-events:none;
  opacity:0;
  transition: opacity .6s ease, transform .6s ease;
  white-space:nowrap;
  text-align:center;
}
.hover-title .t-title{  font-family: "LeopardoTrial", serif;
  font-weight: 300;font-style:italic;}
.hover-title .t-by{    font-family: "freight-big-pro", serif;
  font-weight: 300; }
.hover-title .t-author{   font-family: "freight-big-pro", serif;
  font-weight: 300;}

.bracket-zone[data-state="seven"] .hover-title.show{
  opacity:1;
  transform:translateX(-50%) translateY(0);
}

html, body {
  overflow: hidden;
}
.panel {
  overflow: hidden;   /* 스크롤 완전히 차단 */
}